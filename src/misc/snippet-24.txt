// Snippet 1 - Context: Add ECS: `Nexus` component (`{ clutchAff: 'u32', catalyst: 'u32', foldType: 'u8' }`â€”0=flourish,1=fracture,2=shatter). In `ecosystem.js` (ritual from modal): In Zustand `useGame`:

// Action
attuneNexusFusion: (clutchIds: string[], catalyst: number) => {
  set((state) => ({ shardVault: state.shardVault.filter(s => !clutchIds.includes(s.id)) })); // Prep clear
  ecosystem.attuneNexusFusion(clutchIds.map(id => parseInt(id)), catalyst);
},

// Getter
nexusReadyClutches = () => useGame((state) => findAttunedGroups(state.shardVault, 3)); // Groups of 3+