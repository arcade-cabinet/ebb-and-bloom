/**
 * Main Menu Component - UIKit version
 * Renders INSIDE Canvas as 3D UI
 */

import { Container, Fullscreen, Text } from '@react-three/uikit';
import { Button } from '@react-three/uikit-default';

interface MainMenuProps {
  onStartNewGame: () => void;
  onContinueGame?: () => void;
  onSettings?: () => void;
  onCredits?: () => void;
}

const MainMenu: React.FC<MainMenuProps> = ({
  onStartNewGame,
  onContinueGame,
  onSettings,
  onCredits
}) => {
  const hasSaveGame = localStorage.getItem('ebb-bloom-player-traits') !== null;

  return (
    <Fullscreen
      backgroundColor={0x1a202c}
      flexDirection="column"
      alignItems="center"
      justifyContent="center"
      padding={32}
    >
      {/* Title */}
      <Container flexDirection="column" alignItems="center" gap={24} marginBottom={64}>
        <Text
          
          fontSize={72}
          fontWeight="bold"
          color={0xD69E2E}
        >
          Ebb & Bloom
        </Text>
        <Text
          fontFamily="inter"
          fontSize={24}
          fontWeight="light"
          color={0xA0AEC0}
        >
          Shape Worlds. Traits Echo. Legacy Endures.
        </Text>
      </Container>

      {/* Menu Buttons */}
      <Container flexDirection="column" gap={16} alignItems="center">
        {/* Start New World */}
        <Button
          onClick={onStartNewGame}
          backgroundColor={0x38A169}
          hover={{ backgroundColor: 0x2F855A }}
          active={{ opacity: 0.9 }}
          paddingX={32}
          paddingY={20}
          width={400}
        >
          <Text fontSize={20} fontWeight="medium">üå± Start New World</Text>
        </Button>

        {/* Continue */}
        {hasSaveGame && onContinueGame && (
          <Button
            onClick={onContinueGame}
            backgroundColor={0x4A5568}
            hover={{ backgroundColor: 0x2D3748 }}
            active={{ opacity: 0.9 }}
            paddingX={32}
            paddingY={20}
            width={400}
          >
            <Text fontSize={18} fontWeight="medium">üîÑ Continue Evolution</Text>
          </Button>
        )}

        {/* Settings */}
        {onSettings && (
          <Button
            onClick={onSettings}
            variant="outline"
            paddingX={32}
            paddingY={16}
            width={400}
          >
            <Text fontSize={16}>‚öôÔ∏è Settings</Text>
          </Button>
        )}

        {/* Credits */}
        {onCredits && (
          <Button
            onClick={onCredits}
            variant="outline"
            paddingX={32}
            paddingY={16}
            width={400}
          >
            <Text fontSize={16}>üìñ Credits</Text>
          </Button>
        )}
      </Container>

      {/* Footer */}
      <Container
        flexDirection="column"
        alignItems="center"
        gap={8}
        marginTop={64}
      >
        <Text  fontSize={12} color={0xA0AEC0}>
          Evolutionary Ecosystem Simulation
        </Text>
        <Text  fontSize={10} color={0xA0AEC0} opacity={0.7}>
          Generation 1+ driven by Yuka AI ‚Ä¢ Gen 1 = ECS Foundation
        </Text>
      </Container>

      {/* Brand Color Accents */}
      <Container
        positionType="absolute"
        positionBottom={32}
        flexDirection="row"
        gap={24}
      >
        <Container flexDirection="column" alignItems="center" gap={8}>
          <Container width={8} height={8} borderRadius={4} backgroundColor={0x4A5568} />
          <Text  fontSize={10} color={0xA0AEC0}>Ebb</Text>
        </Container>
        <Container flexDirection="column" alignItems="center" gap={8}>
          <Container width={8} height={8} borderRadius={4} backgroundColor={0x38A169} />
          <Text  fontSize={10} color={0xA0AEC0}>Bloom</Text>
        </Container>
        <Container flexDirection="column" alignItems="center" gap={8}>
          <Container width={8} height={8} borderRadius={4} backgroundColor={0xD69E2E} />
          <Text  fontSize={10} color={0xA0AEC0}>Trait</Text>
        </Container>
        <Container flexDirection="column" alignItems="center" gap={8}>
          <Container width={8} height={8} borderRadius={4} backgroundColor={0xA0AEC0} />
          <Text  fontSize={10} color={0xA0AEC0}>Echo</Text>
        </Container>
      </Container>
    </Fullscreen>
  );
};

export default MainMenu;
